class Solution {
    private boolean DFS(String s, int index, int count) {
        if (count < 0) return false;
        
        if (index < s.length()) {
            if (s.charAt(index) == '(') return DFS(s, index+1, count+1);   
            else if (s.charAt(index) == ')') return DFS(s, index+1, count-1);   
            else return (DFS(s, index+1, count+1) ||
                        DFS(s, index+1, count-1) ||
                        DFS(s, index+1, count));
        } else {
            if (count == 0) return true; 
            else return false;
        }
    }
    public boolean checkValidString(String s) {
        return DFS(s, 0, 0);
    }
}
